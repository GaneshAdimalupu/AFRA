(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{1363:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add-student",function(){return n(5247)}])},5006:function(e,t,n){"use strict";var a=n(5893);n(7294);var l=n(1163),r=n.n(l);t.Z=e=>t=>{let n={isAdmin:!0};return n&&n.isAdmin?(0,a.jsx)(e,{...t}):(r().push("/"),null)}},5247:function(e,t,n){"use strict";n.r(t);var a=n(5893),l=n(5006),r=n(7294);t.default=(0,l.Z)(()=>{let[e,t]=(0,r.useState)({usn:"",name:"",department:"",image:""}),handleChange=n=>{t({...e,[n.target.name]:n.target.value}),"image"===n.target.name&&t({...e,[n.target.name]:n.target.files[0]})};(0,r.useEffect)(()=>{console.log(e)},[e]);let handleSubmit=async t=>{t.preventDefault();try{let t=new FormData;console.log(e),t.append("label",e.usn),t.append("name",e.name),t.append("department",e.department),t.append("image",e.image),console.log(t);let n=await fetch("http://localhost/addStudent",{method:"POST",mode:"cors",body:t,credentials:"include"});n.ok?alert("Student added successfully!"):alert("Error adding student: "+n.statusText)}catch(e){console.error(e)}};return(0,a.jsx)("div",{children:(0,a.jsxs)("form",{encType:"multipart/form-data",onSubmit:handleSubmit,className:"bg-white p-10 m-5 rounded-lg  max-w-md mx-auto",children:[[{name:"usn",label:"USN",type:"text",placeholder:"Enter USN"},{name:"name",label:"Name",type:"text",placeholder:"Enter name"},{name:"department",label:"Department",type:"text",placeholder:"Enter department"},{name:"image",label:"Image",type:"file"}].map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:e.name,children:e.label}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:e.type,name:e.name,id:e.name,required:e.required,onChange:handleChange})]},e.name)),(0,a.jsx)("button",{type:"submit",children:"Submit"})]})})})},1163:function(e,t,n){e.exports=n(9974)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=1363)}),_N_E=e.O()}]);