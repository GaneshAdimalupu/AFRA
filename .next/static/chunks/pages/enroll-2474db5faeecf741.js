(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{2671:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/enroll",function(){return n(5312)}])},7481:function(e,t,n){"use strict";var a=n(5893);n(7294),t.Z=function(e){let{buttonProps:t,children:n}=e;return(0,a.jsx)("button",{className:"bg-teal-500 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline-teal",type:"submit",...t,children:n})}},7411:function(e,t,n){"use strict";n.d(t,{l:function(){return Form}});var a=n(5893),l=n(7294),o=n(7481);let Form=e=>{let{fields:t,submitText:n,onSubmit:r,onInputChange:s}=e,[i,u]=(0,l.useState)({}),[c,d]=(0,l.useState)({}),handleChange=e=>{u({...i,[e.target.name]:e.target.value})},validateForm=()=>{let e={};t.forEach(t=>{t.required&&!i[t.name]&&(e[t.name]="Required")}),d(e)};return(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),validateForm(),r(i)},className:"bg-white p-10 m-5 rounded-lg  max-w-md mx-auto",children:[t.map(e=>(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block font-bold text-gray-700 mb-2",htmlFor:e.name,children:e.label}),(0,a.jsx)("input",{type:e.type,name:e.name,id:e.name,value:i[e.name],placeholder:"Enter ".concat(e.label),onChange:handleChange,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),c[e.name]&&(0,a.jsx)("div",{className:"text-red-500",children:c[e.name]})]},e.name)),(0,a.jsx)(o.Z,{type:"submit",children:n})]})}},8281:function(e,t,n){"use strict";var a=n(5893);n(7294),n(1163),t.Z=e=>t=>{let checkAuth=async()=>{let e=await fetch("http://localhost/",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"include"}),t=await e.json();return t.isAdmin?{isLoggedIn:!0}:{isLoggedIn:!1}};return checkAuth().then(e=>{if(e.isLoggedIn)return null}),(0,a.jsx)(e,{...t})}},5312:function(e,t,n){"use strict";n.r(t);var a=n(5893),l=n(7411),o=n(8281);t.default=(0,o.Z)(function(){let handleSubmit=async e=>{let t=await fetch("http://localhost/enrollStudent",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),n=await t.json();console.log(n),alert(n.message)};return(0,a.jsx)(l.l,{fields:[{name:"usn",label:"USN",type:"text",required:!0},{name:"code",label:"Code",type:"text",required:!0}],submitText:"Enroll",onSubmit:handleSubmit})})},1163:function(e,t,n){e.exports=n(9974)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2671)}),_N_E=e.O()}]);