(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(7644)}])},7481:function(e,t,n){"use strict";var a=n(5893);n(7294),t.Z=function(e){let{buttonProps:t,children:n}=e;return(0,a.jsx)("button",{className:"bg-teal-500 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline-teal",type:"submit",...t,children:n})}},7411:function(e,t,n){"use strict";n.d(t,{l:function(){return Form}});var a=n(5893),l=n(7294),r=n(7481);let Form=e=>{let{fields:t,submitText:n,onSubmit:s,onInputChange:o}=e,[i,d]=(0,l.useState)({}),[c,u]=(0,l.useState)({}),handleChange=e=>{d({...i,[e.target.name]:e.target.value})},validateForm=()=>{let e={};t.forEach(t=>{t.required&&!i[t.name]&&(e[t.name]="Required")}),u(e)};return(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),validateForm(),s(i)},className:"bg-white p-10 m-5 rounded-lg  max-w-md mx-auto",children:[t.map(e=>(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block font-bold text-gray-700 mb-2",htmlFor:e.name,children:e.label}),(0,a.jsx)("input",{type:e.type,name:e.name,id:e.name,value:i[e.name],placeholder:"Enter ".concat(e.label),onChange:handleChange,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),c[e.name]&&(0,a.jsx)("div",{className:"text-red-500",children:c[e.name]})]},e.name)),(0,a.jsx)(r.Z,{type:"submit",children:n})]})}},8281:function(e,t,n){"use strict";var a=n(5893);n(7294),n(1163),t.Z=e=>t=>{let checkAuth=async()=>{let e=await fetch("http://localhost/",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"include"}),t=await e.json();return t.isAdmin?{isLoggedIn:!0}:{isLoggedIn:!1}};return checkAuth().then(e=>{if(e.isLoggedIn)return null}),(0,a.jsx)(e,{...t})}},7644:function(e,t,n){"use strict";n.r(t);var a=n(5893),l=n(7411),r=n(7294),s=n(8281),o=n(1163),i=n.n(o);t.default=(0,s.Z)(function(){let[e,t]=(0,r.useState)("admin"),handleTabClick=e=>{t(e.target.id)},handleSubmit=async t=>{let n={id:t.id,password:t.password},a=await fetch("admin"===e?"http://localhost/admin":"http://localhost/enroller",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"}),l=await a.json();if(l.error){alert(l.error);return}i().push("/")};return(0,a.jsxs)("div",{className:"bg-gray-200 flex flex-col items-center p-4",children:[(0,a.jsxs)("ul",{className:"flex justify-center",children:[(0,a.jsx)("li",{className:"mr-4",children:(0,a.jsx)("button",{id:"admin",className:"".concat("admin"===e?"bg-teal-400 text-white":""," font-bold text-lg rounded-full px-4 py-2"),onClick:handleTabClick,children:"Admin"})}),(0,a.jsx)("li",{className:"mr-4",children:(0,a.jsx)("button",{id:"enroller",className:"".concat("enroller"===e?"bg-teal-400 text-white":""," font-bold text-lg rounded-full px-4 py-2"),onClick:handleTabClick,children:"Enroller"})})]}),(0,a.jsx)(l.l,{fields:[{name:"id",label:"ID",type:"text",required:!0},{name:"password",label:"Password",type:"password",required:!0}],submitText:"Log In",onSubmit:handleSubmit})]})})},1163:function(e,t,n){e.exports=n(9974)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);